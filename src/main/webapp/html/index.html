<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Welcome to HIEs! Please Signin First!</title>

    <link href="../css/css.css" rel="stylesheet">
    <script src="../js/js.js"></script>
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

    <!-- Bootstrap core CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../css/signin.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="../js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
<script>
    $(document).ready(function(){
//        $("#msform").hide();
        $("#register").click(function(){
            $("#msform").show();
        });

        //jQuery time
        var current_fs, next_fs, previous_fs; //fieldsets
        var left, opacity, scale; //fieldset properties which we will animate
        var animating; //flag to prevent quick multi-click glitches

        $(".next").click(function(){
            if(animating) return false;
            animating = true;

            current_fs = $(this).parent();
            next_fs = $(this).parent().next();

            //activate next step on progressbar using the index of next_fs
            $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");

            //show the next fieldset
            next_fs.show();
            //hide the current fieldset with style
            current_fs.animate({opacity: 0}, {
                step: function(now, mx) {
                    //as the opacity of current_fs reduces to 0 - stored in "now"
                    //1. scale current_fs down to 80%
                    scale = 1 - (1 - now) * 0.2;
                    //2. bring next_fs from the right(50%)
                    left = (now * 50)+"%";
                    //3. increase opacity of next_fs to 1 as it moves in
                    opacity = 1 - now;
                    current_fs.css({'transform': 'scale('+scale+')'});
                    next_fs.css({'left': left, 'opacity': opacity});
                },
                duration: 800,
                complete: function(){
                    current_fs.hide();
                    animating = false;
                },
                //this comes from the custom easing plugin
                easing: 'easeInOutBack'
            });
        });

        $(".previous").click(function(){
            if(animating) return false;
            animating = true;

            current_fs = $(this).parent();
            previous_fs = $(this).parent().prev();

            //de-activate current step on progressbar
            $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");

            //show the previous fieldset
            previous_fs.show();
            //hide the current fieldset with style
            current_fs.animate({opacity: 0}, {
                step: function(now, mx) {
                    //as the opacity of current_fs reduces to 0 - stored in "now"
                    //1. scale previous_fs from 80% to 100%
                    scale = 0.8 + (1 - now) * 0.2;
                    //2. take current_fs to the right(50%) - from 0%
                    left = ((1-now) * 50)+"%";
                    //3. increase opacity of previous_fs to 1 as it moves in
                    opacity = 1 - now;
                    current_fs.css({'left': left});
                    previous_fs.css({'transform': 'scale('+scale+')', 'opacity': opacity});
                },
                duration: 800,
                complete: function(){
                    current_fs.hide();
                    animating = false;
                },
                //this comes from the custom easing plugin
                easing: 'easeInOutBack'
            });
        });

        $(".submit").click(function(){
            var userName = $("#username");
            $.ajax({
                    type: "Post",
                    url : "http://localhost:8080/register",
                    data : $("#msform").serialize(),
                    cache:true,

                    success: function(data){
                        alert(data);

                    },
                    error: function(error){
                        alert(error);
                    }
                });

//            var email = $( "#email" ),
//                    username = $("#username"),
//                    password = $( "#pass" ),
//                    cpass= $("#cpass"),
//                    fname=$("#fname"),
//                    lname=$("#lname"),
//                    mm=$("#mm"),
//                    dd=$("#dd"),
//                    yyyy=$("#yyyy"),
//                    age=$("#age"),
//                    street=$("#street"),
//                    city=$("#city"),
//                    state=$("#state"),
//                    zip=$("#zip"),
//                    phone=$("#phone"),
//                    isSmallBusiness = $("#smallBusiness"),
//                    isFamily= $("#family"),
//                    income = $("#income"),
//                    tips = $( "#tips" );
//
//            var bValid = true;
//
//
//            bValid = bValid && checkLength( username, "username", 3, 16, tips );
//            bValid = bValid && checkLength( password, "password", 5, 16, tips );
//            bValid = bValid && checkLength( cpass, "confirm pass", 5, 16, tips );
//            bValid = bValid && checkLength( fname, "First Name", 2, 16, tips );
//            bValid = bValid && checkLength( lname, "Last Name", 2, 16, tips );
//            bValid = bValid && checkLength( email, "email", 6, 80, tips );
//            bValid = bValid && checkLength( mm, "mm", 2, 2, tips );
//            bValid = bValid && checkLength( dd, "dd", 2, 2, tips );
//            bValid = bValid && checkLength( yyyy, "yyyy", 4, 4, tips );
//            bValid = bValid && checkLength( age, "age", 1, 3, tips );
//            bValid = bValid && checkLength( street, "street", 2, 80, tips );
//            bValid = bValid && checkLength( city, "City", 2, 16, tips );
//            bValid = bValid && checkLength( state, "State", 2, 16, tips );
//            bValid = bValid && checkLength( zip, "Zip", 5, 8, tips );
//            bValid = bValid && checkLength( phone, "Phone", 8, 12, tips );
//
//            bValid = bValid && checkRegexp( name, /^[a-z]([0-9a-z_])+$/i, "Username may consist of a-z, 0-9, underscores, begin with a letter.",tips );
//            bValid = bValid && checkRegexp( password, /^([0-9a-zA-Z])+$/, "Password field only allow : A-Z a-z 0-9" ,tips);
//            bValid = bValid && checkRegexp( fname, /^([a-zA-Z])+$/, "First Name field only allow : A-Z a-z." , tips);
//            bValid = bValid && checkRegexp( lname, /^([a-zA-Z])+$/, "Last Name field only allow : A-Z a-z.", tips );
//            bValid = bValid && checkRegexp( email, /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i, "eg. ui@jquery.com" ,tips);
//            bValid = bValid && checkRegexp( mm, /^([0-9])+$/, "Month field only allow : 0-9.", tips );
//            bValid = bValid && checkRegexp( dd, /^([0-9])+$/, "Day field only allow : 0-9.", tips );
//            bValid = bValid && checkRegexp( yyyy, /^([0-9])+$/, "Year field only allow : 0-9.", tips );
//            bValid = bValid && checkRegexp( age, /^([0-9])+$/, "Age field only allow : 0-9.", tips );
//            bValid = bValid && checkRegexp( street, /^([0-9a-zA-Z])+$/, "Address Line field only allow : A-Z a-z 0-9." , tips);
//            bValid = bValid && checkRegexp( city, /^([a-zA-Z])+$/, "City field only allow : A-Z a-z.", tips );
//            bValid = bValid && checkRegexp( state, /^([a-zA-Z])+$/, "State field only allow : A-Z a-z.",tips );
//            bValid = bValid && checkRegexp( zip, /^([0-9])+$/, "Zip field only allow :0-9." ,tips);
//            bValid = bValid && checkRegexp( phone, /^([0-9])+$/, "Phone field only allow : 0-9.", tips );
//
//            if(password.val() != cpass.val){
//                bValid = false;
//            }
//
//            if(bValid){
//                $.ajax({
//                    type: "Post",
//                    url : "http://localhost:8080/register",
//                    data : {"email":email.val(),"username":username.val(),"password":password.val(),"firstname":fname.val(),"lastname":lname.val(),"mm":mm.val(),"dd":dd.val(),"yyyy":yyyy.val(),"age":age.val(),"street":street.val(),"city":city.val(),"state":state.val(),"zip":zip.val(),"phone":phone.val(),"isSmallBusiness":isSmallBusiness.val(),"isFamily":isFamily.val(),"income":income.val()},
//                    cache:false,
//
//                    success: function(data){
//                        alert(data);
//
//                    },
//                    error: function(error){
//                        alert(error);
//                    }
//                });
//            }
//
//            return false;

        });


    });

    function updateTips( t,tips ) {
        tips.show()
                .text( t )
                .addClass( "ui-state-highlight" );
        setTimeout(function() {
            tips.removeClass( "ui-state-highlight", 1500 );
        }, 500 );
    }

    function checkLength( o, n, min, max, tips ) {
        if ( o.val().length > max || o.val().length < min ) {
            o.addClass( "ui-state-error" );
            updateTips( "Length of " + n + " must be between " +
            min + " and " + max + "." ,tips);
            return false;
        } else {
            return true;
        }
    }

    function checkRegexp( o, regexp, n, tips ) {
        if ( !( regexp.test( o.val() ) ) ) {
            o.addClass( "ui-state-error" );
            updateTips( n ,tips );
            return false;
        } else {
            return true;
        }
    }
</script>
<body>

<div class="container">

    <form class="form-signin" role="form">
        <h2 class="form-signin-heading">Please sign in</h2>
        <input type="email" class="form-control" placeholder="Email address" required="" autofocus="">
        <input type="password" class="form-control" placeholder="Password" required="">
        <div class="checkbox">
            <label>
                <p id="register">Register Now!</p>
            </label>
        </div>
        <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>
    </form>

</div> <!-- /container -->


<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="../js/ie10-viewport-bug-workaround.js"></script>


</body>

<!-- multistep form -->
<form id="msform">
    <!-- progressbar -->
    <ul id="progressbar">
        <li class="active">Account Setup</li>
        <li>Personal Information</li>
        <li>Personal Details</li>
    </ul>
    <span id="tips"></span>
    <!-- fieldsets -->
    <fieldset>
        <h2 class="fs-title">Create your account</h2>
        <h3 class="fs-subtitle">This is step 1</h3>
        <input type="text" name="email" id="email" placeholder="Email" />
        <input type="text" name="username" id="username" placeholder="User Name" />
        <input type="password" name="pass" id="pass" placeholder="Password" />
        <input type="password" name="cpass" id="cpass" placeholder="Confirm Password" />
        <input type="button" name="next" class="next action-button" value="Next" />
    </fieldset>
    <fieldset>
        <h2 class="fs-title">Personal Information</h2>
        <h3 class="fs-subtitle">Choose Your Current Information</h3>
        <input type="text" name="fname" id="fname" placeholder="First Name" />
        <input type="text" name="lname" id="lname" placeholder="Last Name" />
        <span>DOB</span>
        <input type="text" name="mm" id="mm" placeholder="MM" class="dob"/>
        <input type="text" name="dd" id="dd" placeholder="dd" class="dob"/>
        <input type="text" name="yyyy" id="yyyy" placeholder="YYYY" class="dob"/>
        <input type="text" name="age" id="age" placeholder="Age" />
        <input type="text" name="street" id="street" placeholder="Street" />
        <input type="text" name="city" id="city" placeholder="City" />
        <input type="text" name="state" id="state" placeholder="State" />
        <input type="text" name="zip" id="zip" placeholder="Zip" />
        <input type="text" name="phone" id="phone" placeholder="phone" />
        <input type="button" name="previous" class="previous action-button" value="Previous" />
        <input type="button" name="next" class="next action-button" value="Next" />
    </fieldset>
    <fieldset>
        <h2 class="fs-title">Personal Details</h2>
        <h3 class="fs-subtitle">We will never sell it</h3>
        <label class="checkbox" for="smallBusiness">
            <input type="checkbox" id="smallBusiness">Small Business
        </label>
        <label class="checkbox" for="family">
            <input type="checkbox" id="family">Family Member
        </label>
        <label>
            <span>Income Status:</span>
            <select id="income">
                <option value="none">Don't provide</option>
                <option value="low">Less Than $5000 Annual</option>
                <option value="above">Above $5000 Annual</option>
            </select>
        </label>
        <input type="button" name="previous" class="previous action-button" value="Previous" />
        <input type="submit" name="submit" class="submit action-button" value="Submit" />
    </fieldset>
</form>

<!-- jQuery -->
<script src="http://thecodeplayer.com/uploads/js/jquery-1.9.1.min.js" type="text/javascript"></script>
<!-- jQuery easing plugin -->
<script src="http://thecodeplayer.com/uploads/js/jquery.easing.min.js" type="text/javascript"></script>
</html>